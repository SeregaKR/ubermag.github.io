
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Field operations &#8212; ubermag  documentation</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script src="../../../_static/design-tabs.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.1/dist/embed-amd.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Visualising field using matplotlib" href="field-matplotlib-visualisation.html" />
    <link rel="prev" title="Field normalisation" href="field-normalisation.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="../../../index.html">
  <img src="../../../_static/logoL.png" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../installation.html">
  Installation
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../demo.html">
  Demo
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../getting-started/index.html">
  Getting started
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../examples/index.html">
  Examples
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="../../index.html">
  Package documentation
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../api/index.html">
  API
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../changelog.html">
  Changelog
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../help.html">
  Help
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/ubermag" rel="noopener" target="_blank" title="GitHub"><span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
      </ul>
      </div>
      
      <div class="navbar-end-item">
        <form class="bd-search d-flex align-items-center" action="../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar">
              <div class="sidebar-start-items"><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Packages
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../../discretisedfield.html">
   discretisedfield
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="region-basics.html">
     Region basics
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="region-visualisation.html">
     Region visualisation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="region-facing-surfaces.html">
     Region facing surfaces
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="mesh-basics.html">
     Mesh basics
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="mesh-visualisation.html">
     Mesh visualisation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="mesh-line-plane.html">
     Mesh plane and line
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="mesh-subregions.html">
     Mesh subregions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="mesh-widgets.html">
     Mesh widgets
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="mesh-pad.html">
     Mesh pad
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="mesh-bc.html">
     Mesh boundary conditions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="field-definition.html">
     Defining a uniform field
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="field-spatially-varying.html">
     Spatially varying fields
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="field-normalisation.html">
     Field normalisation
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Field operations
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="field-matplotlib-visualisation.html">
     Visualising field using
     <code class="docutils literal notranslate">
      <span class="pre">
       matplotlib
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="field-k3d-visualisation.html">
     Field visualisation using
     <code class="docutils literal notranslate">
      <span class="pre">
       k3d
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="field-read-write.html">
     Reading and writing fields
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="xarray-usage.html">
     Importing/Exporting field from/to
     <code class="docutils literal notranslate">
      <span class="pre">
       xarray.DataArray
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="field-rotations.html">
     Field rotation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="field-tools.html">
     Field tools
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="line.html">
     Line object
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="ovf2vtk.html">
     <code class="docutils literal notranslate">
      <span class="pre">
       ovf2vtk
      </span>
     </code>
     tool
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../mag2exp.html">
   mag2exp
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../mag2exp/DC_magnetometry.html">
     DC magnetometry
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../mag2exp/Torque_magnetometry.html">
     Torque magnetometry
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../mag2exp/Lorentz_TEM.html">
     Lorentz Transmission Electron Microscopy
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../mag2exp/Rotations_Lorentz_Microscopy.html">
     Using Rotations with
     <code class="docutils literal notranslate">
      <span class="pre">
       mag2exp
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../mag2exp/Magnetic_Force_Microscopy.html">
     Magnetic Force Microscopy
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../mag2exp/X_ray_Holography.html">
     X-ray Holography
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../mag2exp/SAXS.html">
     Small Angle X-ray Scattering
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../mag2exp/SANS.html">
     Small Angle Neutron Scattering
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../mag2exp/Unit_converter.html">
     Unit Conversions
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../micromagneticdata.html">
   micromagneticdata
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../micromagneticdata/documentation.html">
     Analysing simulation results
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../micromagneticmodel.html">
   micromagneticmodel
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../micromagneticmodel/deriving-energy-term.html">
     Deriving an energy term
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../micromagneticmodel/deriving-dynamics-term.html">
     Deriving a dynamics term
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../micromagneticmodel/term-parameters.html">
     Term parameters
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../micromagneticmodel/energy-terms.html">
     Energy terms and energy equation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../micromagneticmodel/dynamics-terms.html">
     Dynamics terms and dynamics equation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../micromagneticmodel/same-class-terms.html">
     Multiple energy terms of the same class
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../micromagneticmodel/evolver-driver.html">
     Deriving evolver and driver classes
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../micromagneticmodel/system.html">
     Defining micromagnetic system
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../micromagneticmodel/constants.html">
     Constants
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../micromagnetictests.html">
   micromagnetictests
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../micromagnetictests/usage.html">
     Usage
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../oommfc.html">
   oommfc
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../oommfc/zeeman.html">
     Tutorial 01: Zeeman energy term
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../oommfc/exchange.html">
     Tutorial 02: Exchange energy term
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../oommfc/uniaxialanisotropy.html">
     Tutorial 03: Uniaxial anisotropy energy term
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../oommfc/dmi.html">
     Tutorial 04: Dzyaloshinskii-Moriya energy term
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../oommfc/cubicanisotropy.html">
     Tutorial 05: Cubic anisotropy energy term
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../oommfc/mindriver-steps.html">
     <code class="docutils literal notranslate">
      <span class="pre">
       MinDriver
      </span>
     </code>
     steps
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../oommfc/dirname.html">
     Custom directory name
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../oommfc/controlling-default-runner.html">
     Controlling the default runner
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../oommfc/parallel.html">
     Running simulations in parallel
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../oommfc/verbosity_levels.html">
     Verbosity levels
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../ubermagtable.html">
   ubermagtable
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../ubermagtable/table-basics.html">
     Table basics
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../ubermagtable/table-merge.html">
     Table merge
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../ubermagtable/table-visualisation.html">
     Table visualisation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../ubermagtable/table-widgets.html">
     Table widgets
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../ubermagtable/table-interactive-plot.html">
     Table interactive plot
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../ubermagtable/table-fft.html">
     Table FFT
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../ubermagutil.html">
   ubermagutil
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
  <label for="toctree-checkbox-8">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../ubermagutil/imposing-typesystem.html">
     Imposing
     <code class="docutils literal notranslate">
      <span class="pre">
       typesystem
      </span>
     </code>
     on a class
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../ubermagutil/constant-attributes.html">
     Constant attributes
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../ubermagutil/parameter-descriptor.html">
     <code class="docutils literal notranslate">
      <span class="pre">
       Parameter
      </span>
     </code>
     descriptor
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../ubermagutil/otherwise-type.html">
     Defining
     <code class="docutils literal notranslate">
      <span class="pre">
       otherwise
      </span>
     </code>
     type
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../ubermagutil/si-prefix.html">
     Extracting the SI prefix
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../ubermagutil/inherit-docs.html">
     <code class="docutils literal notranslate">
      <span class="pre">
       inherit_docs
      </span>
     </code>
     decorator
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../ubermagutil/hysteresis.html">
     Hysteresis values
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../ubermagutil/logging.html">
     Logging control
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../ubermag.html">
   ubermag
  </a>
 </li>
</ul>

  </div>
</nav>
              </div>
              <div class="sidebar-end-items">
              </div>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Sampling-the-field">
   Sampling the field
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Extracting-the-component-of-a-vector-field">
   Extracting the component of a vector field
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Extracting-smaller-region">
   Extracting smaller region
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#Extracting-subfield-on-aligned-mesh">
     Extracting subfield on aligned mesh
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#Extracting-field-on-any-mesh">
     Extracting field on any mesh
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Computing-the-average">
   Computing the average
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Iterating-through-the-field">
   Iterating through the field
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Sampling-the-field-along-the-line">
   Sampling the field along the line
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Intersecting-the-field-with-a-plane">
   Intersecting the field with a plane
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Cascading-the-operations">
   Cascading the operations
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Complex-fields">
   Complex fields
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Algebra-operations">
   Algebra operations
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#+-operation">
     <code class="docutils literal notranslate">
      <span class="pre">
       +
      </span>
     </code>
     operation
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#--operation">
     <code class="docutils literal notranslate">
      <span class="pre">
       -
      </span>
     </code>
     operation
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#*-operation">
     <code class="docutils literal notranslate">
      <span class="pre">
       *
      </span>
     </code>
     operation
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#/-operation">
     <code class="docutils literal notranslate">
      <span class="pre">
       /
      </span>
     </code>
     operation
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#**-operator">
     <code class="docutils literal notranslate">
      <span class="pre">
       **
      </span>
     </code>
     operator
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#Compund-operations">
     Compund operations
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Vector-products">
   Vector products
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#Dot-product">
     Dot product
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#Cross-product">
     Cross product
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Vector-calculus">
   Vector calculus
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#Gradient-(\nabla-f)">
     Gradient
     <span class="math notranslate nohighlight">
      \((\nabla f)\)
     </span>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#Divergence-(\nabla-\cdot-f)">
     Divergence
     <span class="math notranslate nohighlight">
      \((\nabla \cdot f)\)
     </span>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#Curl-(\nabla-\times-f)">
     Curl
     <span class="math notranslate nohighlight">
      \((\nabla \times f)\)
     </span>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#Laplace-operator-(\nabla^{2}-f)">
     Laplace operator
     <span class="math notranslate nohighlight">
      \((\nabla^{2} f)\)
     </span>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Integrals">
   Integrals
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#Volume-integral">
     Volume integral
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#Surface-integral">
     Surface integral
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#Line-integrals">
     Line integrals
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#Improper-integrals">
     Improper integrals
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#Example">
     Example
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Operation-pipelines">
   Operation pipelines
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id4">
   Example
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Applying-numpys-universal-functions">
   Applying
   <code class="docutils literal notranslate">
    <span class="pre">
     numpys
    </span>
   </code>
   universal functions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Other">
   Other
  </a>
 </li>
</ul>

</nav>


<div class="tocsection onthispace pt-5 bp-3">
    <h5>Try online:</h5>
    
        <a href="https://mybinder.org/v2/gh/ubermag/discretisedfield/latest?urlpath=lab/tree/docs/field-operations.ipynb" target="_blank" rel="noopener noreferrer">
    
        <img src="https://img.shields.io/badge/launch-binder-579aca.svg?logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFkAAABZCAMAAABi1XidAAAB8lBMVEX///9XmsrmZYH1olJXmsr1olJXmsrmZYH1olJXmsr1olJXmsrmZYH1olL1olJXmsr1olJXmsrmZYH1olL1olJXmsrmZYH1olJXmsr1olL1olJXmsrmZYH1olL1olJXmsrmZYH1olL1olL0nFf1olJXmsrmZYH1olJXmsq8dZb1olJXmsrmZYH1olJXmspXmspXmsr1olL1olJXmsrmZYH1olJXmsr1olL1olJXmsrmZYH1olL1olLeaIVXmsrmZYH1olL1olL1olJXmsrmZYH1olLna31Xmsr1olJXmsr1olJXmsrmZYH1olLqoVr1olJXmsr1olJXmsrmZYH1olL1olKkfaPobXvviGabgadXmsqThKuofKHmZ4Dobnr1olJXmsr1olJXmspXmsr1olJXmsrfZ4TuhWn1olL1olJXmsqBi7X1olJXmspZmslbmMhbmsdemsVfl8ZgmsNim8Jpk8F0m7R4m7F5nLB6jbh7jbiDirOEibOGnKaMhq+PnaCVg6qWg6qegKaff6WhnpKofKGtnomxeZy3noG6dZi+n3vCcpPDcpPGn3bLb4/Mb47UbIrVa4rYoGjdaIbeaIXhoWHmZYHobXvpcHjqdHXreHLroVrsfG/uhGnuh2bwj2Hxk17yl1vzmljzm1j0nlX1olL3AJXWAAAAbXRSTlMAEBAQHx8gICAuLjAwMDw9PUBAQEpQUFBXV1hgYGBkcHBwcXl8gICAgoiIkJCQlJicnJ2goKCmqK+wsLC4usDAwMjP0NDQ1NbW3Nzg4ODi5+3v8PDw8/T09PX29vb39/f5+fr7+/z8/Pz9/v7+zczCxgAABC5JREFUeAHN1ul3k0UUBvCb1CTVpmpaitAGSLSpSuKCLWpbTKNJFGlcSMAFF63iUmRccNG6gLbuxkXU66JAUef/9LSpmXnyLr3T5AO/rzl5zj137p136BISy44fKJXuGN/d19PUfYeO67Znqtf2KH33Id1psXoFdW30sPZ1sMvs2D060AHqws4FHeJojLZqnw53cmfvg+XR8mC0OEjuxrXEkX5ydeVJLVIlV0e10PXk5k7dYeHu7Cj1j+49uKg7uLU61tGLw1lq27ugQYlclHC4bgv7VQ+TAyj5Zc/UjsPvs1sd5cWryWObtvWT2EPa4rtnWW3JkpjggEpbOsPr7F7EyNewtpBIslA7p43HCsnwooXTEc3UmPmCNn5lrqTJxy6nRmcavGZVt/3Da2pD5NHvsOHJCrdc1G2r3DITpU7yic7w/7Rxnjc0kt5GC4djiv2Sz3Fb2iEZg41/ddsFDoyuYrIkmFehz0HR2thPgQqMyQYb2OtB0WxsZ3BeG3+wpRb1vzl2UYBog8FfGhttFKjtAclnZYrRo9ryG9uG/FZQU4AEg8ZE9LjGMzTmqKXPLnlWVnIlQQTvxJf8ip7VgjZjyVPrjw1te5otM7RmP7xm+sK2Gv9I8Gi++BRbEkR9EBw8zRUcKxwp73xkaLiqQb+kGduJTNHG72zcW9LoJgqQxpP3/Tj//c3yB0tqzaml05/+orHLksVO+95kX7/7qgJvnjlrfr2Ggsyx0eoy9uPzN5SPd86aXggOsEKW2Prz7du3VID3/tzs/sSRs2w7ovVHKtjrX2pd7ZMlTxAYfBAL9jiDwfLkq55Tm7ifhMlTGPyCAs7RFRhn47JnlcB9RM5T97ASuZXIcVNuUDIndpDbdsfrqsOppeXl5Y+XVKdjFCTh+zGaVuj0d9zy05PPK3QzBamxdwtTCrzyg/2Rvf2EstUjordGwa/kx9mSJLr8mLLtCW8HHGJc2R5hS219IiF6PnTusOqcMl57gm0Z8kanKMAQg0qSyuZfn7zItsbGyO9QlnxY0eCuD1XL2ys/MsrQhltE7Ug0uFOzufJFE2PxBo/YAx8XPPdDwWN0MrDRYIZF0mSMKCNHgaIVFoBbNoLJ7tEQDKxGF0kcLQimojCZopv0OkNOyWCCg9XMVAi7ARJzQdM2QUh0gmBozjc3Skg6dSBRqDGYSUOu66Zg+I2fNZs/M3/f/Grl/XnyF1Gw3VKCez0PN5IUfFLqvgUN4C0qNqYs5YhPL+aVZYDE4IpUk57oSFnJm4FyCqqOE0jhY2SMyLFoo56zyo6becOS5UVDdj7Vih0zp+tcMhwRpBeLyqtIjlJKAIZSbI8SGSF3k0pA3mR5tHuwPFoa7N7reoq2bqCsAk1HqCu5uvI1n6JuRXI+S1Mco54YmYTwcn6Aeic+kssXi8XpXC4V3t7/ADuTNKaQJdScAAAAAElFTkSuQmCC">
    </a>
    <h5>Try locally:</h5>
    <a href="https://ubermag.github.io/_sources/documentation/notebooks/discretisedfield/field-operations.ipynb.txt" download="field-operations.ipynb">
        <img src="https://img.shields.io/badge/download-notebook-blue">
    </a>
</div>

              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt .copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
</style>
<section id="Field-operations">
<h1>Field operations<a class="headerlink" href="#Field-operations" title="Permalink to this headline">#</a></h1>
<p>There are several convenience methods that can be used to analyse the field. Let us first define the mesh we are going to work with.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">import</span> <span class="nn">discretisedfield</span> <span class="k">as</span> <span class="nn">df</span>

<span class="n">p1</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mi">50</span><span class="p">,</span> <span class="o">-</span><span class="mi">50</span><span class="p">,</span> <span class="o">-</span><span class="mi">50</span><span class="p">)</span>
<span class="n">p2</span> <span class="o">=</span> <span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">n</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">mesh</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">Mesh</span><span class="p">(</span><span class="n">p1</span><span class="o">=</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="o">=</span><span class="n">p2</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="n">n</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>We are going to initialise the vector field (<code class="docutils literal notranslate"><span class="pre">dim=3</span></code>), with</p>
<div class="math notranslate nohighlight">
\[\mathbf{f}(x, y, z) = (xy, 2xy, xyz)\]</div>
<p>For that, we are going to use the following Python function.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">value_function</span><span class="p">(</span><span class="n">pos</span><span class="p">):</span>
    <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="n">pos</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span><span class="p">,</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span> <span class="o">*</span> <span class="n">z</span>
</pre></div>
</div>
</div>
<p>Finally, our field is</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">field</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">mesh</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">value_function</span><span class="p">)</span>
</pre></div>
</div>
</div>
<section id="Sampling-the-field">
<h2>Sampling the field<a class="headerlink" href="#Sampling-the-field" title="Permalink to this headline">#</a></h2>
<p>As we have shown previously, a field can be sampled by calling it. The argument must be a 3-length iterable and it contains the coordinates of the point.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">point</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">field</span><span class="p">(</span><span class="n">point</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(625.0, 1250.0, -15625.0)
</pre></div></div>
</div>
<p>However if the point is outside the mesh, an exception is raised.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">point</span> <span class="o">=</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">field</span><span class="p">(</span><span class="n">point</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Exception raised.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Exception raised.
</pre></div></div>
</div>
</section>
<section id="Extracting-the-component-of-a-vector-field">
<h2>Extracting the component of a vector field<a class="headerlink" href="#Extracting-the-component-of-a-vector-field" title="Permalink to this headline">#</a></h2>
<p>A three-dimensional vector field can be understood as three separate scalar fields, where each scalar field is a component of a vector field value. A scalar field of a component can be extracted by accessing <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code>, or <code class="docutils literal notranslate"><span class="pre">z</span></code> attribute of the field.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x_component</span> <span class="o">=</span> <span class="n">field</span><span class="o">.</span><span class="n">x</span>
<span class="n">x_component</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
625.0
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">field</span><span class="o">.</span><span class="n">y</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<strong>Field</strong>
<ul>

  <li><strong>Mesh</strong>
<ul>
  <li><strong>Region</strong>
<ul>
  <li>p1 = (-50, -50, -50)</li>
  <li>p2 = (50, 50, 50)</li>
</ul></li>
  <li>n = (2, 2, 2)</li>
  <li>attributes:
    <ul>
      <li>unit: m</li>
      <li>fourierspace: False</li>
      <li>isplane: False</li>
      </ul>
  </li>
</ul></li>
  <li>dim = 1</li>
  </ul></div>
</div>
<p>Default names <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code>, and (for dim 3) <code class="docutils literal notranslate"><span class="pre">z</span></code> are only available for fields with dimensionality 2 or 3.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">field</span><span class="o">.</span><span class="n">components</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#39;x&#39;, &#39;y&#39;, &#39;z&#39;]
</pre></div></div>
</div>
<p>It is possible to change the component names:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">field</span><span class="o">.</span><span class="n">components</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mx&quot;</span><span class="p">,</span> <span class="s2">&quot;my&quot;</span><span class="p">,</span> <span class="s2">&quot;mz&quot;</span><span class="p">]</span>
<span class="n">field</span><span class="o">.</span><span class="n">mx</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
625.0
</pre></div></div>
</div>
<p>This overrides the component labels and the old <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code> and <code class="docutils literal notranslate"><span class="pre">z</span></code> cannot be used anymore:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="n">field</span><span class="o">.</span><span class="n">x</span>
<span class="k">except</span> <span class="ne">AttributeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Object has no attribute x.
</pre></div></div>
</div>
<p>We change the component labels back to <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code>, and <code class="docutils literal notranslate"><span class="pre">z</span></code> for the rest of this notebook.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">field</span><span class="o">.</span><span class="n">components</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<p>Custom component names can optionally also be specified during field creation. If not specified, the default values are used for fields with dimensions 2 or 3. Higher-dimensional fields have no defaults and custom labes have to be specified in order to access individual field components:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">field_4d</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span>
    <span class="n">mesh</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">components</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;c1&quot;</span><span class="p">,</span> <span class="s2">&quot;c2&quot;</span><span class="p">,</span> <span class="s2">&quot;c3&quot;</span><span class="p">,</span> <span class="s2">&quot;c4&quot;</span><span class="p">]</span>
<span class="p">)</span>
<span class="n">field_4d</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<strong>Field</strong>
<ul>

  <li><strong>Mesh</strong>
<ul>
  <li><strong>Region</strong>
<ul>
  <li>p1 = (-50, -50, -50)</li>
  <li>p2 = (50, 50, 50)</li>
</ul></li>
  <li>n = (2, 2, 2)</li>
  <li>attributes:
    <ul>
      <li>unit: m</li>
      <li>fourierspace: False</li>
      <li>isplane: False</li>
      </ul>
  </li>
</ul></li>
  <li>dim = 4</li>
  <li>components:
      <ul><li>c1</li>
        <li>c2</li>
        <li>c3</li>
        <li>c4</li>
        </ul>
    </li>
  </ul></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">field_4d</span><span class="o">.</span><span class="n">c1</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
1.0
</pre></div></div>
</div>
</section>
<section id="Extracting-smaller-region">
<h2>Extracting smaller region<a class="headerlink" href="#Extracting-smaller-region" title="Permalink to this headline">#</a></h2>
<p>Let us say we are not interested in the entire field but only in its smaller portion - only some discretisation cells. In that case, we have two options. Before we discuss them, let us first define what we mean by “aligned” meshes:</p>
<ul class="simple">
<li><p>Mesh A is aligned to mesh B if and only if all cell coordinates of mesh A are also the coordinates of (some) cells in mesh B.</p></li>
</ul>
<p>There is <code class="docutils literal notranslate"><span class="pre">|</span></code> operator which checks that. Let us have a look at a few meshes:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mesh1</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">Mesh</span><span class="p">(</span><span class="n">region</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">Region</span><span class="p">(</span><span class="n">p1</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">p2</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)),</span> <span class="n">cell</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">mesh2</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">Mesh</span><span class="p">(</span><span class="n">region</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">Region</span><span class="p">(</span><span class="n">p1</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">p2</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">)),</span> <span class="n">cell</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">mesh3</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">Mesh</span><span class="p">(</span><span class="n">region</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">Region</span><span class="p">(</span><span class="n">p1</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">p2</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)),</span> <span class="n">cell</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="n">mesh4</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">Mesh</span><span class="p">(</span>
    <span class="n">region</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">Region</span><span class="p">(</span><span class="n">p1</span><span class="o">=</span><span class="p">(</span><span class="mf">3.5</span><span class="p">,</span> <span class="mf">3.5</span><span class="p">,</span> <span class="mf">3.5</span><span class="p">),</span> <span class="n">p2</span><span class="o">=</span><span class="p">(</span><span class="mf">6.5</span><span class="p">,</span> <span class="mf">6.5</span><span class="p">,</span> <span class="mf">6.5</span><span class="p">)),</span> <span class="n">cell</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<p>Let us now have a look if those meshes are aligned:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mesh1</span> <span class="o">|</span> <span class="n">mesh2</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
True
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mesh1</span> <span class="o">|</span> <span class="n">mesh3</span>  <span class="c1"># discretisation cell is different</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
False
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mesh1</span> <span class="o">|</span> <span class="n">mesh4</span>  <span class="c1"># although discretisation cell is the same, mesh4 is shifted in space by 0.5</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
False
</pre></div></div>
</div>
<section id="Extracting-subfield-on-aligned-mesh">
<h3>Extracting subfield on aligned mesh<a class="headerlink" href="#Extracting-subfield-on-aligned-mesh" title="Permalink to this headline">#</a></h3>
<p>If we want to get a subfield whose mesh is aligned to the field we want to take part of, we use <code class="docutils literal notranslate"><span class="pre">[]</span></code> operator. The resulting field is going to have a minimum-sized mesh which contains the region we pass as an argument.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">subregion</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">Region</span><span class="p">(</span><span class="n">p1</span><span class="o">=</span><span class="p">(</span><span class="mf">1.5</span><span class="p">,</span> <span class="mf">2.2</span><span class="p">,</span> <span class="mf">3.9</span><span class="p">),</span> <span class="n">p2</span><span class="o">=</span><span class="p">(</span><span class="mf">6.1</span><span class="p">,</span> <span class="mf">5.9</span><span class="p">,</span> <span class="mf">9.9</span><span class="p">))</span>
<span class="n">field</span><span class="p">[</span><span class="n">subregion</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<strong>Field</strong>
<ul>

  <li><strong>Mesh</strong>
<ul>
  <li><strong>Region</strong>
<ul>
  <li>p1 = (0.0, 0.0, 0.0)</li>
  <li>p2 = (50.0, 50.0, 50.0)</li>
</ul></li>
  <li>n = (1, 1, 1)</li>
  <li>attributes:
    <ul>
      <li>unit: m</li>
      <li>fourierspace: False</li>
      <li>isplane: False</li>
      </ul>
  </li>
</ul></li>
  <li>dim = 3</li>
  <li>components:
      <ul><li>x</li>
        <li>y</li>
        <li>z</li>
        </ul>
    </li>
  </ul></div>
</div>
<p>We can see that the resulting field’s mesh has the minimum dimesions aligned mesh should have in order to contain the <code class="docutils literal notranslate"><span class="pre">subregion</span></code>. The resulting field has the same discretisation cell as the original one.</p>
</section>
<section id="Extracting-field-on-any-mesh">
<h3>Extracting field on any mesh<a class="headerlink" href="#Extracting-field-on-any-mesh" title="Permalink to this headline">#</a></h3>
<p>If we want to extact part of the field on any mesh which is contained inside the field, we do that by “resampling”. We create a new field on a submesh and pass the field we want take subfield from as <code class="docutils literal notranslate"><span class="pre">value</span></code>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">subregion</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">Region</span><span class="p">(</span><span class="n">p1</span><span class="o">=</span><span class="p">(</span><span class="mf">1.5</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mf">3.5</span><span class="p">),</span> <span class="n">p2</span><span class="o">=</span><span class="p">(</span><span class="mf">5.5</span><span class="p">,</span> <span class="mf">5.5</span><span class="p">,</span> <span class="mf">6.5</span><span class="p">))</span>
<span class="n">submesh</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">Mesh</span><span class="p">(</span><span class="n">region</span><span class="o">=</span><span class="n">subregion</span><span class="p">,</span> <span class="n">cell</span><span class="o">=</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">))</span>
<span class="n">df</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">submesh</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">field</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<strong>Field</strong>
<ul>

  <li><strong>Mesh</strong>
<ul>
  <li><strong>Region</strong>
<ul>
  <li>p1 = (1.5, 2.5, 3.5)</li>
  <li>p2 = (5.5, 5.5, 6.5)</li>
</ul></li>
  <li>n = (8, 6, 6)</li>
  <li>attributes:
    <ul>
      <li>unit: m</li>
      <li>fourierspace: False</li>
      <li>isplane: False</li>
      </ul>
  </li>
</ul></li>
  <li>dim = 3</li>
  <li>components:
      <ul><li>x</li>
        <li>y</li>
        <li>z</li>
        </ul>
    </li>
  </ul></div>
</div>
<p>One could ask why don’t we always use resampling because it is a generalised case. The reason is because computing a subfield using <code class="docutils literal notranslate"><span class="pre">[]</span></code> operator is much faster.</p>
</section>
</section>
<section id="Computing-the-average">
<h2>Computing the average<a class="headerlink" href="#Computing-the-average" title="Permalink to this headline">#</a></h2>
<p>The average of the field can be obtained by calling <code class="docutils literal notranslate"><span class="pre">discretisedfield.Field.average</span></code> property.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">field</span><span class="o">.</span><span class="n">average</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(0.0, 0.0, 0.0)
</pre></div></div>
</div>
<p>Average always return a tuple, independent of the dimension of the field’s value.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">field</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">average</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0.0
</pre></div></div>
</div>
</section>
<section id="Iterating-through-the-field">
<h2>Iterating through the field<a class="headerlink" href="#Iterating-through-the-field" title="Permalink to this headline">#</a></h2>
<p>The field object itself is an iterable. That means that it can be iterated through. As a result it returns a tuple, where the first element is the coordinate of the mesh point, whereas the second one is its value.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">coordinate</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">field</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">coordinate</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(-25.0, -25.0, -25.0) (625.0, 1250.0, -15625.0)
(25.0, -25.0, -25.0) (-625.0, -1250.0, 15625.0)
(-25.0, 25.0, -25.0) (-625.0, -1250.0, 15625.0)
(25.0, 25.0, -25.0) (625.0, 1250.0, -15625.0)
(-25.0, -25.0, 25.0) (625.0, 1250.0, 15625.0)
(25.0, -25.0, 25.0) (-625.0, -1250.0, -15625.0)
(-25.0, 25.0, 25.0) (-625.0, -1250.0, -15625.0)
(25.0, 25.0, 25.0) (625.0, 1250.0, 15625.0)
</pre></div></div>
</div>
</section>
<section id="Sampling-the-field-along-the-line">
<h2>Sampling the field along the line<a class="headerlink" href="#Sampling-the-field-along-the-line" title="Permalink to this headline">#</a></h2>
<p>To sample the points of the field which are on a certain line, <code class="docutils literal notranslate"><span class="pre">discretisedfield.Field.line</span></code> method is used. It takes two points <code class="docutils literal notranslate"><span class="pre">p1</span></code> and <code class="docutils literal notranslate"><span class="pre">p2</span></code> that define the line and an integer <code class="docutils literal notranslate"><span class="pre">n</span></code> which defines how many mesh coordinates on that line are required. The default value of <code class="docutils literal notranslate"><span class="pre">n</span></code> is 100.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">line</span> <span class="o">=</span> <span class="n">field</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">p1</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">p2</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">n</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="Intersecting-the-field-with-a-plane">
<h2>Intersecting the field with a plane<a class="headerlink" href="#Intersecting-the-field-with-a-plane" title="Permalink to this headline">#</a></h2>
<p>If we intersect the field with a plane, <code class="docutils literal notranslate"><span class="pre">discretisedfield.Field.plane</span></code> will return a new field object which contains only discretisation cells that belong to that plane. The planes allowed are the planes perpendicular to the axes of the Cartesian coordinate system. For instance, a plane parallel to the <span class="math notranslate nohighlight">\(yz\)</span>-plane (perpendicular to the <span class="math notranslate nohighlight">\(x\)</span>-axis) which intesects the <span class="math notranslate nohighlight">\(x\)</span>-axis at 1, can be written as</p>
<div class="math notranslate nohighlight">
\[x = 1\]</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">field</span><span class="o">.</span><span class="n">plane</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<strong>Field</strong>
<ul>

  <li><strong>Mesh</strong>
<ul>
  <li><strong>Region</strong>
<ul>
  <li>p1 = (-24.0, -50.0, -50.0)</li>
  <li>p2 = (26.0, 50.0, 50.0)</li>
</ul></li>
  <li>n = (1, 2, 2)</li>
  <li>attributes:
    <ul>
      <li>unit: m</li>
      <li>fourierspace: False</li>
      <li>isplane: True</li>
      <li>planeaxis: 0</li>
      <li>point: 1</li>
      <li>axis1: 1</li>
      <li>axis2: 2</li>
      </ul>
  </li>
</ul></li>
  <li>dim = 3</li>
  <li>components:
      <ul><li>x</li>
        <li>y</li>
        <li>z</li>
        </ul>
    </li>
  </ul></div>
</div>
<p>If we want to cut through the middle of the mesh, we do not need to provide a particular value for a coordinate.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">field</span><span class="o">.</span><span class="n">plane</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<strong>Field</strong>
<ul>

  <li><strong>Mesh</strong>
<ul>
  <li><strong>Region</strong>
<ul>
  <li>p1 = (-25.0, -50.0, -50.0)</li>
  <li>p2 = (25.0, 50.0, 50.0)</li>
</ul></li>
  <li>n = (1, 2, 2)</li>
  <li>attributes:
    <ul>
      <li>unit: m</li>
      <li>fourierspace: False</li>
      <li>isplane: True</li>
      <li>planeaxis: 0</li>
      <li>point: 0.0</li>
      <li>axis1: 1</li>
      <li>axis2: 2</li>
      </ul>
  </li>
</ul></li>
  <li>dim = 3</li>
  <li>components:
      <ul><li>x</li>
        <li>y</li>
        <li>z</li>
        </ul>
    </li>
  </ul></div>
</div>
</section>
<section id="Cascading-the-operations">
<h2>Cascading the operations<a class="headerlink" href="#Cascading-the-operations" title="Permalink to this headline">#</a></h2>
<p>Let us say we want to compute the average of an <span class="math notranslate nohighlight">\(x\)</span> component of the field on the plane <span class="math notranslate nohighlight">\(y=10\)</span>. In order to do that, we can cascade several operation in a single line.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">field</span><span class="o">.</span><span class="n">plane</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">average</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0.0
</pre></div></div>
</div>
<p>This gives the same result as for instance</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[27]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">field</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">plane</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">average</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[27]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0.0
</pre></div></div>
</div>
</section>
<section id="Complex-fields">
<h2>Complex fields<a class="headerlink" href="#Complex-fields" title="Permalink to this headline">#</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">discretisedfield</span></code> supports complex-valued fields.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cfield</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">mesh</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mf">1.5</span><span class="n">j</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="n">j</span><span class="p">))</span>
</pre></div>
</div>
</div>
<p>We can extract <code class="docutils literal notranslate"><span class="pre">real</span></code> and <code class="docutils literal notranslate"><span class="pre">imaginary</span></code> part.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cfield</span><span class="o">.</span><span class="n">real</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(1.0, 2.0, 0.0)
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[30]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cfield</span><span class="o">.</span><span class="n">imag</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[30]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(1.5, 0.0, 3.0)
</pre></div></div>
</div>
<p>Similarly we get <code class="docutils literal notranslate"><span class="pre">real</span></code> and <code class="docutils literal notranslate"><span class="pre">imaginary</span></code> parts of individual components.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[31]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cfield</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">real</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[31]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
1.0
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[32]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cfield</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">imag</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[32]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
1.5
</pre></div></div>
</div>
<p>Complex conjugate.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[33]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cfield</span><span class="o">.</span><span class="n">conjugate</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[33]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
((1-1.5j), (2-0j), -3j)
</pre></div></div>
</div>
<p>Phase in the complex plane.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[34]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cfield</span><span class="o">.</span><span class="n">phase</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[34]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(0.982793723247329, 0.0, 1.5707963267948966)
</pre></div></div>
</div>
</section>
<section id="Algebra-operations">
<h2>Algebra operations<a class="headerlink" href="#Algebra-operations" title="Permalink to this headline">#</a></h2>
<p>Let us define two fields:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[35]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">region</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">Region</span><span class="p">(</span><span class="n">p1</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">p2</span><span class="o">=</span><span class="p">(</span><span class="mf">10e-9</span><span class="p">,</span> <span class="mf">10e-9</span><span class="p">,</span> <span class="mf">10e-9</span><span class="p">))</span>
<span class="n">mesh</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">Mesh</span><span class="p">(</span><span class="n">region</span><span class="o">=</span><span class="n">region</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>

<span class="n">f1</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">mesh</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="n">f2</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">mesh</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[36]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f1</span><span class="o">.</span><span class="n">average</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[36]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(1.0, 1.0, 0.0)
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[37]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f2</span><span class="o">.</span><span class="n">average</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[37]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(2.0, 1.0, 3.0)
</pre></div></div>
</div>
<section id="+-operation">
<h3><code class="docutils literal notranslate"><span class="pre">+</span></code> operation<a class="headerlink" href="#+-operation" title="Permalink to this headline">#</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[38]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f1</span> <span class="o">+</span> <span class="n">f2</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[38]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<strong>Field</strong>
<ul>

  <li><strong>Mesh</strong>
<ul>
  <li><strong>Region</strong>
<ul>
  <li>p1 = (0, 0, 0)</li>
  <li>p2 = (1e-08, 1e-08, 1e-08)</li>
</ul></li>
  <li>n = (10, 10, 10)</li>
  <li>attributes:
    <ul>
      <li>unit: m</li>
      <li>fourierspace: False</li>
      <li>isplane: False</li>
      </ul>
  </li>
</ul></li>
  <li>dim = 3</li>
  <li>components:
      <ul><li>x</li>
        <li>y</li>
        <li>z</li>
        </ul>
    </li>
  </ul></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[39]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">f1</span> <span class="o">+</span> <span class="n">f2</span><span class="p">)</span><span class="o">.</span><span class="n">average</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[39]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(3.0, 2.0, 3.0)
</pre></div></div>
</div>
</section>
<section id="--operation">
<h3><code class="docutils literal notranslate"><span class="pre">-</span></code> operation<a class="headerlink" href="#--operation" title="Permalink to this headline">#</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[40]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f1</span> <span class="o">-</span> <span class="n">f2</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[40]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<strong>Field</strong>
<ul>

  <li><strong>Mesh</strong>
<ul>
  <li><strong>Region</strong>
<ul>
  <li>p1 = (0, 0, 0)</li>
  <li>p2 = (1e-08, 1e-08, 1e-08)</li>
</ul></li>
  <li>n = (10, 10, 10)</li>
  <li>attributes:
    <ul>
      <li>unit: m</li>
      <li>fourierspace: False</li>
      <li>isplane: False</li>
      </ul>
  </li>
</ul></li>
  <li>dim = 3</li>
  <li>components:
      <ul><li>x</li>
        <li>y</li>
        <li>z</li>
        </ul>
    </li>
  </ul></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[41]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">f1</span> <span class="o">-</span> <span class="n">f2</span><span class="p">)</span><span class="o">.</span><span class="n">average</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[41]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(-1.0, 0.0, -3.0)
</pre></div></div>
</div>
</section>
<section id="*-operation">
<h3><code class="docutils literal notranslate"><span class="pre">*</span></code> operation<a class="headerlink" href="#*-operation" title="Permalink to this headline">#</a></h3>
<p>Basic multiplication is not defined between vector fields. In that case, we perform either dot or cross product, which we are going to discuss later.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[42]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f1</span> <span class="o">*</span> <span class="n">f2</span>  <span class="c1"># both are vector fields</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">ValueError</span>                                Traceback (most recent call last)
Input <span class="ansi-green-fg">In [42]</span>, in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-fg">----&gt; 1</span> <span class="ansi-yellow-bg">f1</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">*</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">f2</span>

File <span class="ansi-green-fg">~/PhD/repos/ubermag-devtools/repos/discretisedfield/discretisedfield/field.py:1331</span>, in <span class="ansi-cyan-fg">Field.__mul__</span><span class="ansi-blue-fg">(self, other)</span>
<span class="ansi-green-intense-fg ansi-bold">   1328</span> <span class="ansi-bold" style="color: rgb(0,135,0)">if</span> <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>dim <span style="color: rgb(98,98,98)">==</span> <span style="color: rgb(98,98,98)">3</span> <span class="ansi-bold" style="color: rgb(175,0,255)">and</span> other<span style="color: rgb(98,98,98)">.</span>dim <span style="color: rgb(98,98,98)">==</span> <span style="color: rgb(98,98,98)">3</span>:
<span class="ansi-green-intense-fg ansi-bold">   1329</span>     msg <span style="color: rgb(98,98,98)">=</span> (<span style="color: rgb(175,0,0)">f</span><span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">Cannot apply operator * on </span><span class="ansi-bold" style="color: rgb(175,95,135)">{</span><span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>dim<span class="ansi-bold" style="color: rgb(175,95,135)">=}</span><span style="color: rgb(175,0,0)"> </span><span style="color: rgb(175,0,0)">&#39;</span>
<span class="ansi-green-intense-fg ansi-bold">   1330</span>            <span style="color: rgb(175,0,0)">f</span><span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">and </span><span class="ansi-bold" style="color: rgb(175,95,135)">{</span>other<span style="color: rgb(98,98,98)">.</span>dim<span class="ansi-bold" style="color: rgb(175,95,135)">=}</span><span style="color: rgb(175,0,0)"> fields.</span><span style="color: rgb(175,0,0)">&#39;</span>)
<span class="ansi-green-fg">-&gt; 1331</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">raise</span> <span class="ansi-bold" style="color: rgb(215,95,95)">ValueError</span>(msg)
<span class="ansi-green-intense-fg ansi-bold">   1332</span> <span class="ansi-bold" style="color: rgb(0,135,0)">if</span> <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>mesh <span style="color: rgb(98,98,98)">!=</span> other<span style="color: rgb(98,98,98)">.</span>mesh:
<span class="ansi-green-intense-fg ansi-bold">   1333</span>     msg <span style="color: rgb(98,98,98)">=</span> (<span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">Cannot apply operator * on fields </span><span style="color: rgb(175,0,0)">&#39;</span>
<span class="ansi-green-intense-fg ansi-bold">   1334</span>            <span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">defined on different meshes.</span><span style="color: rgb(175,0,0)">&#39;</span>)

<span class="ansi-red-fg">ValueError</span>: Cannot apply operator * on self.dim=3 and other.dim=3 fields.
</pre></div></div>
</div>
<p>Scalar with vector field:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[43]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f1</span><span class="o">.</span><span class="n">x</span> <span class="o">*</span> <span class="n">f2</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[43]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<strong>Field</strong>
<ul>

  <li><strong>Mesh</strong>
<ul>
  <li><strong>Region</strong>
<ul>
  <li>p1 = (0, 0, 0)</li>
  <li>p2 = (1e-08, 1e-08, 1e-08)</li>
</ul></li>
  <li>n = (10, 10, 10)</li>
  <li>attributes:
    <ul>
      <li>unit: m</li>
      <li>fourierspace: False</li>
      <li>isplane: False</li>
      </ul>
  </li>
</ul></li>
  <li>dim = 3</li>
  <li>components:
      <ul><li>x</li>
        <li>y</li>
        <li>z</li>
        </ul>
    </li>
  </ul></div>
</div>
<p>Scalar with vector field:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[44]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f1</span><span class="o">.</span><span class="n">x</span> <span class="o">*</span> <span class="n">f2</span><span class="o">.</span><span class="n">y</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[44]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<strong>Field</strong>
<ul>

  <li><strong>Mesh</strong>
<ul>
  <li><strong>Region</strong>
<ul>
  <li>p1 = (0, 0, 0)</li>
  <li>p2 = (1e-08, 1e-08, 1e-08)</li>
</ul></li>
  <li>n = (10, 10, 10)</li>
  <li>attributes:
    <ul>
      <li>unit: m</li>
      <li>fourierspace: False</li>
      <li>isplane: False</li>
      </ul>
  </li>
</ul></li>
  <li>dim = 1</li>
  </ul></div>
</div>
</section>
<section id="/-operation">
<h3><code class="docutils literal notranslate"><span class="pre">/</span></code> operation<a class="headerlink" href="#/-operation" title="Permalink to this headline">#</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[45]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f1</span> <span class="o">/</span> <span class="n">f2</span>  <span class="c1"># both are vector fields</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">ValueError</span>                                Traceback (most recent call last)
Input <span class="ansi-green-fg">In [45]</span>, in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-fg">----&gt; 1</span> <span class="ansi-yellow-bg">f1</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">/</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">f2</span>

File <span class="ansi-green-fg">~/PhD/repos/ubermag-devtools/repos/discretisedfield/discretisedfield/field.py:1424</span>, in <span class="ansi-cyan-fg">Field.__truediv__</span><span class="ansi-blue-fg">(self, other)</span>
<span class="ansi-green-intense-fg ansi-bold">   1359</span> <span class="ansi-bold" style="color: rgb(0,135,0)">def</span> <span style="color: rgb(0,0,255)">__truediv__</span>(<span style="color: rgb(0,135,0)">self</span>, other):
<span class="ansi-green-intense-fg ansi-bold">   1360</span>     <span style="color: rgb(175,0,0)">&#34;&#34;&#34;Binary ``/`` operator.</span>
<span class="ansi-green-intense-fg ansi-bold">   1361</span>
<span class="ansi-green-intense-fg ansi-bold">   1362</span> <span style="color: rgb(175,0,0)">    It can be applied between:</span>
<span class="ansi-green-fg">   (...)</span>
<span class="ansi-green-intense-fg ansi-bold">   1422</span>
<span class="ansi-green-intense-fg ansi-bold">   1423</span> <span style="color: rgb(175,0,0)">    &#34;&#34;&#34;</span>
<span class="ansi-green-fg">-&gt; 1424</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">return</span> <span style="color: rgb(0,135,0)">self</span> <span style="color: rgb(98,98,98)">*</span> <span class="ansi-yellow-bg">other</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">*</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">*</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">-</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">1</span><span class="ansi-yellow-bg">)</span>

File <span class="ansi-green-fg">~/PhD/repos/ubermag-devtools/repos/discretisedfield/discretisedfield/field.py:1102</span>, in <span class="ansi-cyan-fg">Field.__pow__</span><span class="ansi-blue-fg">(self, other)</span>
<span class="ansi-green-intense-fg ansi-bold">   1100</span> <span class="ansi-bold" style="color: rgb(0,135,0)">if</span> <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>dim <span style="color: rgb(98,98,98)">!=</span> <span style="color: rgb(98,98,98)">1</span>:
<span class="ansi-green-intense-fg ansi-bold">   1101</span>     msg <span style="color: rgb(98,98,98)">=</span> <span style="color: rgb(175,0,0)">f</span><span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">Cannot apply ** operator on </span><span class="ansi-bold" style="color: rgb(175,95,135)">{</span><span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>dim<span class="ansi-bold" style="color: rgb(175,95,135)">=}</span><span style="color: rgb(175,0,0)"> field.</span><span style="color: rgb(175,0,0)">&#39;</span>
<span class="ansi-green-fg">-&gt; 1102</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">raise</span> <span class="ansi-bold" style="color: rgb(215,95,95)">ValueError</span>(msg)
<span class="ansi-green-intense-fg ansi-bold">   1103</span> <span class="ansi-bold" style="color: rgb(0,135,0)">if</span> <span class="ansi-bold" style="color: rgb(175,0,255)">not</span> <span style="color: rgb(0,135,0)">isinstance</span>(other, numbers<span style="color: rgb(98,98,98)">.</span>Real):
<span class="ansi-green-intense-fg ansi-bold">   1104</span>     msg <span style="color: rgb(98,98,98)">=</span> (<span style="color: rgb(175,0,0)">f</span><span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">Unsupported operand type(s) for **: </span><span style="color: rgb(175,0,0)">&#39;</span>
<span class="ansi-green-intense-fg ansi-bold">   1105</span>            <span style="color: rgb(175,0,0)">f</span><span style="color: rgb(175,0,0)">&#39;</span><span class="ansi-bold" style="color: rgb(175,95,135)">{</span><span style="color: rgb(0,135,0)">type</span>(<span style="color: rgb(0,135,0)">self</span>)<span class="ansi-bold" style="color: rgb(175,95,135)">=}</span><span style="color: rgb(175,0,0)"> and </span><span class="ansi-bold" style="color: rgb(175,95,135)">{</span><span style="color: rgb(0,135,0)">type</span>(other)<span class="ansi-bold" style="color: rgb(175,95,135)">=}</span><span style="color: rgb(175,0,0)">.</span><span style="color: rgb(175,0,0)">&#39;</span>)

<span class="ansi-red-fg">ValueError</span>: Cannot apply ** operator on self.dim=3 field.
</pre></div></div>
</div>
<p>Dividing vector field by a scalar field:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[46]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f1</span> <span class="o">/</span> <span class="n">f2</span><span class="o">.</span><span class="n">x</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[46]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<strong>Field</strong>
<ul>

  <li><strong>Mesh</strong>
<ul>
  <li><strong>Region</strong>
<ul>
  <li>p1 = (0, 0, 0)</li>
  <li>p2 = (1e-08, 1e-08, 1e-08)</li>
</ul></li>
  <li>n = (10, 10, 10)</li>
  <li>attributes:
    <ul>
      <li>unit: m</li>
      <li>fourierspace: False</li>
      <li>isplane: False</li>
      </ul>
  </li>
</ul></li>
  <li>dim = 3</li>
  <li>components:
      <ul><li>x</li>
        <li>y</li>
        <li>z</li>
        </ul>
    </li>
  </ul></div>
</div>
<p>Scalar field divided by vector field is not allowed:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[47]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f2</span><span class="o">.</span><span class="n">x</span> <span class="o">/</span> <span class="n">f1</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">ValueError</span>                                Traceback (most recent call last)
Input <span class="ansi-green-fg">In [47]</span>, in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-fg">----&gt; 1</span> <span class="ansi-yellow-bg">f2</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">x</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">/</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">f1</span>

File <span class="ansi-green-fg">~/PhD/repos/ubermag-devtools/repos/discretisedfield/discretisedfield/field.py:1424</span>, in <span class="ansi-cyan-fg">Field.__truediv__</span><span class="ansi-blue-fg">(self, other)</span>
<span class="ansi-green-intense-fg ansi-bold">   1359</span> <span class="ansi-bold" style="color: rgb(0,135,0)">def</span> <span style="color: rgb(0,0,255)">__truediv__</span>(<span style="color: rgb(0,135,0)">self</span>, other):
<span class="ansi-green-intense-fg ansi-bold">   1360</span>     <span style="color: rgb(175,0,0)">&#34;&#34;&#34;Binary ``/`` operator.</span>
<span class="ansi-green-intense-fg ansi-bold">   1361</span>
<span class="ansi-green-intense-fg ansi-bold">   1362</span> <span style="color: rgb(175,0,0)">    It can be applied between:</span>
<span class="ansi-green-fg">   (...)</span>
<span class="ansi-green-intense-fg ansi-bold">   1422</span>
<span class="ansi-green-intense-fg ansi-bold">   1423</span> <span style="color: rgb(175,0,0)">    &#34;&#34;&#34;</span>
<span class="ansi-green-fg">-&gt; 1424</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">return</span> <span style="color: rgb(0,135,0)">self</span> <span style="color: rgb(98,98,98)">*</span> <span class="ansi-yellow-bg">other</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">*</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">*</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">-</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">1</span><span class="ansi-yellow-bg">)</span>

File <span class="ansi-green-fg">~/PhD/repos/ubermag-devtools/repos/discretisedfield/discretisedfield/field.py:1102</span>, in <span class="ansi-cyan-fg">Field.__pow__</span><span class="ansi-blue-fg">(self, other)</span>
<span class="ansi-green-intense-fg ansi-bold">   1100</span> <span class="ansi-bold" style="color: rgb(0,135,0)">if</span> <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>dim <span style="color: rgb(98,98,98)">!=</span> <span style="color: rgb(98,98,98)">1</span>:
<span class="ansi-green-intense-fg ansi-bold">   1101</span>     msg <span style="color: rgb(98,98,98)">=</span> <span style="color: rgb(175,0,0)">f</span><span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">Cannot apply ** operator on </span><span class="ansi-bold" style="color: rgb(175,95,135)">{</span><span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>dim<span class="ansi-bold" style="color: rgb(175,95,135)">=}</span><span style="color: rgb(175,0,0)"> field.</span><span style="color: rgb(175,0,0)">&#39;</span>
<span class="ansi-green-fg">-&gt; 1102</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">raise</span> <span class="ansi-bold" style="color: rgb(215,95,95)">ValueError</span>(msg)
<span class="ansi-green-intense-fg ansi-bold">   1103</span> <span class="ansi-bold" style="color: rgb(0,135,0)">if</span> <span class="ansi-bold" style="color: rgb(175,0,255)">not</span> <span style="color: rgb(0,135,0)">isinstance</span>(other, numbers<span style="color: rgb(98,98,98)">.</span>Real):
<span class="ansi-green-intense-fg ansi-bold">   1104</span>     msg <span style="color: rgb(98,98,98)">=</span> (<span style="color: rgb(175,0,0)">f</span><span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">Unsupported operand type(s) for **: </span><span style="color: rgb(175,0,0)">&#39;</span>
<span class="ansi-green-intense-fg ansi-bold">   1105</span>            <span style="color: rgb(175,0,0)">f</span><span style="color: rgb(175,0,0)">&#39;</span><span class="ansi-bold" style="color: rgb(175,95,135)">{</span><span style="color: rgb(0,135,0)">type</span>(<span style="color: rgb(0,135,0)">self</span>)<span class="ansi-bold" style="color: rgb(175,95,135)">=}</span><span style="color: rgb(175,0,0)"> and </span><span class="ansi-bold" style="color: rgb(175,95,135)">{</span><span style="color: rgb(0,135,0)">type</span>(other)<span class="ansi-bold" style="color: rgb(175,95,135)">=}</span><span style="color: rgb(175,0,0)">.</span><span style="color: rgb(175,0,0)">&#39;</span>)

<span class="ansi-red-fg">ValueError</span>: Cannot apply ** operator on self.dim=3 field.
</pre></div></div>
</div>
</section>
<section id="**-operator">
<h3><code class="docutils literal notranslate"><span class="pre">**</span></code> operator<a class="headerlink" href="#**-operator" title="Permalink to this headline">#</a></h3>
<p>This operator is allowed only on scalar fields:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[48]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f1</span><span class="o">**</span><span class="mi">2</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">ValueError</span>                                Traceback (most recent call last)
Input <span class="ansi-green-fg">In [48]</span>, in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-fg">----&gt; 1</span> <span class="ansi-yellow-bg">f1</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">*</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">*</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">2</span>

File <span class="ansi-green-fg">~/PhD/repos/ubermag-devtools/repos/discretisedfield/discretisedfield/field.py:1102</span>, in <span class="ansi-cyan-fg">Field.__pow__</span><span class="ansi-blue-fg">(self, other)</span>
<span class="ansi-green-intense-fg ansi-bold">   1100</span> <span class="ansi-bold" style="color: rgb(0,135,0)">if</span> <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>dim <span style="color: rgb(98,98,98)">!=</span> <span style="color: rgb(98,98,98)">1</span>:
<span class="ansi-green-intense-fg ansi-bold">   1101</span>     msg <span style="color: rgb(98,98,98)">=</span> <span style="color: rgb(175,0,0)">f</span><span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">Cannot apply ** operator on </span><span class="ansi-bold" style="color: rgb(175,95,135)">{</span><span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>dim<span class="ansi-bold" style="color: rgb(175,95,135)">=}</span><span style="color: rgb(175,0,0)"> field.</span><span style="color: rgb(175,0,0)">&#39;</span>
<span class="ansi-green-fg">-&gt; 1102</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">raise</span> <span class="ansi-bold" style="color: rgb(215,95,95)">ValueError</span>(msg)
<span class="ansi-green-intense-fg ansi-bold">   1103</span> <span class="ansi-bold" style="color: rgb(0,135,0)">if</span> <span class="ansi-bold" style="color: rgb(175,0,255)">not</span> <span style="color: rgb(0,135,0)">isinstance</span>(other, numbers<span style="color: rgb(98,98,98)">.</span>Real):
<span class="ansi-green-intense-fg ansi-bold">   1104</span>     msg <span style="color: rgb(98,98,98)">=</span> (<span style="color: rgb(175,0,0)">f</span><span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">Unsupported operand type(s) for **: </span><span style="color: rgb(175,0,0)">&#39;</span>
<span class="ansi-green-intense-fg ansi-bold">   1105</span>            <span style="color: rgb(175,0,0)">f</span><span style="color: rgb(175,0,0)">&#39;</span><span class="ansi-bold" style="color: rgb(175,95,135)">{</span><span style="color: rgb(0,135,0)">type</span>(<span style="color: rgb(0,135,0)">self</span>)<span class="ansi-bold" style="color: rgb(175,95,135)">=}</span><span style="color: rgb(175,0,0)"> and </span><span class="ansi-bold" style="color: rgb(175,95,135)">{</span><span style="color: rgb(0,135,0)">type</span>(other)<span class="ansi-bold" style="color: rgb(175,95,135)">=}</span><span style="color: rgb(175,0,0)">.</span><span style="color: rgb(175,0,0)">&#39;</span>)

<span class="ansi-red-fg">ValueError</span>: Cannot apply ** operator on self.dim=3 field.
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[49]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f1</span><span class="o">.</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[49]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<strong>Field</strong>
<ul>

  <li><strong>Mesh</strong>
<ul>
  <li><strong>Region</strong>
<ul>
  <li>p1 = (0, 0, 0)</li>
  <li>p2 = (1e-08, 1e-08, 1e-08)</li>
</ul></li>
  <li>n = (10, 10, 10)</li>
  <li>attributes:
    <ul>
      <li>unit: m</li>
      <li>fourierspace: False</li>
      <li>isplane: False</li>
      </ul>
  </li>
</ul></li>
  <li>dim = 1</li>
  </ul></div>
</div>
</section>
<section id="Compund-operations">
<h3>Compund operations<a class="headerlink" href="#Compund-operations" title="Permalink to this headline">#</a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[50]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f1</span> <span class="o">+=</span> <span class="n">f2</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[51]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f1</span> <span class="o">-=</span> <span class="n">f2</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[52]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f1</span> <span class="o">*=</span> <span class="n">f2</span><span class="o">.</span><span class="n">x</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[53]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f2</span> <span class="o">/=</span> <span class="n">f2</span><span class="o">.</span><span class="n">y</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="Vector-products">
<h2>Vector products<a class="headerlink" href="#Vector-products" title="Permalink to this headline">#</a></h2>
<p>As the title says, these products are applied between vector fields only.</p>
<section id="Dot-product">
<h3>Dot product<a class="headerlink" href="#Dot-product" title="Permalink to this headline">#</a></h3>
<p>Dot product is implemented through <code class="docutils literal notranslate"><span class="pre">&#64;</span></code> operator:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[54]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f1</span> <span class="o">@</span> <span class="n">f2</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[54]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<strong>Field</strong>
<ul>

  <li><strong>Mesh</strong>
<ul>
  <li><strong>Region</strong>
<ul>
  <li>p1 = (0, 0, 0)</li>
  <li>p2 = (1e-08, 1e-08, 1e-08)</li>
</ul></li>
  <li>n = (10, 10, 10)</li>
  <li>attributes:
    <ul>
      <li>unit: m</li>
      <li>fourierspace: False</li>
      <li>isplane: False</li>
      </ul>
  </li>
</ul></li>
  <li>dim = 1</li>
  </ul></div>
</div>
</section>
<section id="Cross-product">
<h3>Cross product<a class="headerlink" href="#Cross-product" title="Permalink to this headline">#</a></h3>
<p>Cross product between vector fields is performed using <code class="docutils literal notranslate"><span class="pre">&amp;</span></code> operator:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[55]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f1</span> <span class="o">&amp;</span> <span class="n">f2</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[55]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<strong>Field</strong>
<ul>

  <li><strong>Mesh</strong>
<ul>
  <li><strong>Region</strong>
<ul>
  <li>p1 = (0, 0, 0)</li>
  <li>p2 = (1e-08, 1e-08, 1e-08)</li>
</ul></li>
  <li>n = (10, 10, 10)</li>
  <li>attributes:
    <ul>
      <li>unit: m</li>
      <li>fourierspace: False</li>
      <li>isplane: False</li>
      </ul>
  </li>
</ul></li>
  <li>dim = 3</li>
  <li>components:
      <ul><li>x</li>
        <li>y</li>
        <li>z</li>
        </ul>
    </li>
  </ul></div>
</div>
</section>
</section>
<section id="Vector-calculus">
<h2>Vector calculus<a class="headerlink" href="#Vector-calculus" title="Permalink to this headline">#</a></h2>
<p>### Directional derivative <span class="math notranslate nohighlight">\(\left(\frac{\partial}{\partial x_{i}}f\right)\)</span></p>
<p>Defined on both scalar and vector fields:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[56]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f1</span><span class="o">.</span><span class="n">derivative</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[56]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<strong>Field</strong>
<ul>

  <li><strong>Mesh</strong>
<ul>
  <li><strong>Region</strong>
<ul>
  <li>p1 = (0, 0, 0)</li>
  <li>p2 = (1e-08, 1e-08, 1e-08)</li>
</ul></li>
  <li>n = (10, 10, 10)</li>
  <li>attributes:
    <ul>
      <li>unit: m</li>
      <li>fourierspace: False</li>
      <li>isplane: False</li>
      </ul>
  </li>
</ul></li>
  <li>dim = 3</li>
  <li>components:
      <ul><li>x</li>
        <li>y</li>
        <li>z</li>
        </ul>
    </li>
  </ul></div>
</div>
<section id="Gradient-(\nabla-f)">
<h3>Gradient <span class="math notranslate nohighlight">\((\nabla f)\)</span><a class="headerlink" href="#Gradient-(\nabla-f)" title="Permalink to this headline">#</a></h3>
<p>Defined on scalar fields:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[57]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f1</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">grad</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[57]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<strong>Field</strong>
<ul>

  <li><strong>Mesh</strong>
<ul>
  <li><strong>Region</strong>
<ul>
  <li>p1 = (0, 0, 0)</li>
  <li>p2 = (1e-08, 1e-08, 1e-08)</li>
</ul></li>
  <li>n = (10, 10, 10)</li>
  <li>attributes:
    <ul>
      <li>unit: m</li>
      <li>fourierspace: False</li>
      <li>isplane: False</li>
      </ul>
  </li>
</ul></li>
  <li>dim = 3</li>
  <li>components:
      <ul><li>x</li>
        <li>y</li>
        <li>z</li>
        </ul>
    </li>
  </ul></div>
</div>
</section>
<section id="Divergence-(\nabla-\cdot-f)">
<h3>Divergence <span class="math notranslate nohighlight">\((\nabla \cdot f)\)</span><a class="headerlink" href="#Divergence-(\nabla-\cdot-f)" title="Permalink to this headline">#</a></h3>
<p>Defined on vector fields:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[58]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f1</span><span class="o">.</span><span class="n">div</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[58]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<strong>Field</strong>
<ul>

  <li><strong>Mesh</strong>
<ul>
  <li><strong>Region</strong>
<ul>
  <li>p1 = (0, 0, 0)</li>
  <li>p2 = (1e-08, 1e-08, 1e-08)</li>
</ul></li>
  <li>n = (10, 10, 10)</li>
  <li>attributes:
    <ul>
      <li>unit: m</li>
      <li>fourierspace: False</li>
      <li>isplane: False</li>
      </ul>
  </li>
</ul></li>
  <li>dim = 1</li>
  </ul></div>
</div>
</section>
<section id="Curl-(\nabla-\times-f)">
<h3>Curl <span class="math notranslate nohighlight">\((\nabla \times f)\)</span><a class="headerlink" href="#Curl-(\nabla-\times-f)" title="Permalink to this headline">#</a></h3>
<p>Defined on vector fields:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[59]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f1</span><span class="o">.</span><span class="n">curl</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[59]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<strong>Field</strong>
<ul>

  <li><strong>Mesh</strong>
<ul>
  <li><strong>Region</strong>
<ul>
  <li>p1 = (0, 0, 0)</li>
  <li>p2 = (1e-08, 1e-08, 1e-08)</li>
</ul></li>
  <li>n = (10, 10, 10)</li>
  <li>attributes:
    <ul>
      <li>unit: m</li>
      <li>fourierspace: False</li>
      <li>isplane: False</li>
      </ul>
  </li>
</ul></li>
  <li>dim = 3</li>
  <li>components:
      <ul><li>x</li>
        <li>y</li>
        <li>z</li>
        </ul>
    </li>
  </ul></div>
</div>
</section>
<section id="Laplace-operator-(\nabla^{2}-f)">
<h3>Laplace operator <span class="math notranslate nohighlight">\((\nabla^{2} f)\)</span><a class="headerlink" href="#Laplace-operator-(\nabla^{2}-f)" title="Permalink to this headline">#</a></h3>
<p>Defined on both vector and scalar fields:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[60]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f1</span><span class="o">.</span><span class="n">laplace</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[60]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<strong>Field</strong>
<ul>

  <li><strong>Mesh</strong>
<ul>
  <li><strong>Region</strong>
<ul>
  <li>p1 = (0, 0, 0)</li>
  <li>p2 = (1e-08, 1e-08, 1e-08)</li>
</ul></li>
  <li>n = (10, 10, 10)</li>
  <li>attributes:
    <ul>
      <li>unit: m</li>
      <li>fourierspace: False</li>
      <li>isplane: False</li>
      </ul>
  </li>
</ul></li>
  <li>dim = 3</li>
  <li>components:
      <ul><li>x</li>
        <li>y</li>
        <li>z</li>
        </ul>
    </li>
  </ul></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[61]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f1</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">laplace</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[61]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<strong>Field</strong>
<ul>

  <li><strong>Mesh</strong>
<ul>
  <li><strong>Region</strong>
<ul>
  <li>p1 = (0, 0, 0)</li>
  <li>p2 = (1e-08, 1e-08, 1e-08)</li>
</ul></li>
  <li>n = (10, 10, 10)</li>
  <li>attributes:
    <ul>
      <li>unit: m</li>
      <li>fourierspace: False</li>
      <li>isplane: False</li>
      </ul>
  </li>
</ul></li>
  <li>dim = 1</li>
  </ul></div>
</div>
</section>
</section>
<section id="Integrals">
<h2>Integrals<a class="headerlink" href="#Integrals" title="Permalink to this headline">#</a></h2>
<p>In the most recent version of <code class="docutils literal notranslate"><span class="pre">discretisedfield</span></code>, computing integrals is generalised to accomodate the calculation of different types of integrals. Instead of giving the “theory” behind how it was implemented, we are going to show several examples which hopefully are going to give you an idea how you can compute different integrals.</p>
<p>Let us first create a field:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[62]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">discretisedfield</span> <span class="k">as</span> <span class="nn">df</span>

<span class="n">p1</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">p2</span> <span class="o">=</span> <span class="p">(</span><span class="mf">100e-9</span><span class="p">,</span> <span class="mf">100e-9</span><span class="p">,</span> <span class="mf">100e-9</span><span class="p">)</span>
<span class="n">cell</span> <span class="o">=</span> <span class="p">(</span><span class="mf">2e-9</span><span class="p">,</span> <span class="mf">2e-9</span><span class="p">,</span> <span class="mf">2e-9</span><span class="p">)</span>
<span class="n">region</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">Region</span><span class="p">(</span><span class="n">p1</span><span class="o">=</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="o">=</span><span class="n">p2</span><span class="p">)</span>
<span class="n">mesh</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">Mesh</span><span class="p">(</span><span class="n">region</span><span class="o">=</span><span class="n">region</span><span class="p">,</span> <span class="n">cell</span><span class="o">=</span><span class="n">cell</span><span class="p">)</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">mesh</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">norm</span><span class="o">=</span><span class="mf">1e6</span><span class="p">)</span>
</pre></div>
</div>
</div>
<section id="Volume-integral">
<h3>Volume integral<a class="headerlink" href="#Volume-integral" title="Permalink to this headline">#</a></h3>
<div class="math notranslate nohighlight">
\[\int_{V}\mathbf{f}(\mathbf{r})\text{d}V\]</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[63]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">integral</span><span class="p">(</span><span class="n">f</span> <span class="o">*</span> <span class="n">df</span><span class="o">.</span><span class="n">dV</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[63]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(-6.000000000017728e-16, 0.0, 8.00000000001152e-16)
</pre></div></div>
</div>
<p>Since <span class="math notranslate nohighlight">\(\text{d}V = \text{d}x\text{d}y\text{d}z\)</span>, we can compute the integral as:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[64]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">integral</span><span class="p">(</span><span class="n">f</span> <span class="o">*</span> <span class="n">df</span><span class="o">.</span><span class="n">dx</span> <span class="o">*</span> <span class="n">df</span><span class="o">.</span><span class="n">dy</span> <span class="o">*</span> <span class="n">df</span><span class="o">.</span><span class="n">dz</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[64]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(-6.000000000017728e-16, 0.0, 8.00000000001152e-16)
</pre></div></div>
</div>
<div class="math notranslate nohighlight">
\[\int_{V}f_{x}(\mathbf{r})\text{d}V\]</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[65]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">integral</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">x</span> <span class="o">*</span> <span class="n">df</span><span class="o">.</span><span class="n">dV</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[65]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
-6.000000000000003e-16
</pre></div></div>
</div>
</section>
<section id="Surface-integral">
<h3>Surface integral<a class="headerlink" href="#Surface-integral" title="Permalink to this headline">#</a></h3>
<p>There is <code class="docutils literal notranslate"><span class="pre">disretisedfield.dS</span></code> value which is a vector field perpendicular to the surface with magnitude equal to the area of <span class="math notranslate nohighlight">\(\text{d}S\)</span>.</p>
<div class="math notranslate nohighlight">
\[\int_{S}\mathbf{f}(\mathbf{r}) \cdot \text{d}\mathbf{S}\]</div>
<p>Like all plane-related operations, the field must be sliced.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[66]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">integral</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">plane</span><span class="p">(</span><span class="s2">&quot;z&quot;</span><span class="p">)</span> <span class="o">@</span> <span class="n">df</span><span class="o">.</span><span class="n">dS</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[66]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
7.999999999999996e-09
</pre></div></div>
</div>
<p>Similarly, we can write <span class="math notranslate nohighlight">\(\text{d}S = \text{d}x\text{d}y\)</span> when we cut <span class="math notranslate nohighlight">\(z\)</span>-plane or we can use <span class="math notranslate nohighlight">\(|\text{d}\mathbf{S}|\)</span>.</p>
<div class="math notranslate nohighlight">
\[\int_{S}f_{x}(\mathbf{r}) \text{d}x\text{d}y\]</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[67]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">integral</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">plane</span><span class="p">(</span><span class="s2">&quot;z&quot;</span><span class="p">)</span> <span class="o">*</span> <span class="n">df</span><span class="o">.</span><span class="n">dx</span> <span class="o">*</span> <span class="n">df</span><span class="o">.</span><span class="n">dy</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[67]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
-5.999999999999999e-09
</pre></div></div>
</div>
<div class="math notranslate nohighlight">
\[\int_{S}f_{x}(\mathbf{r}) |\text{d}\mathbf{S}|\]</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[68]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">integral</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">plane</span><span class="p">(</span><span class="s2">&quot;z&quot;</span><span class="p">)</span> <span class="o">*</span> <span class="nb">abs</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">dS</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[68]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
-5.9999999999999975e-09
</pre></div></div>
</div>
</section>
<section id="Line-integrals">
<h3>Line integrals<a class="headerlink" href="#Line-integrals" title="Permalink to this headline">#</a></h3>
<div class="math notranslate nohighlight">
\[\int_{0}^{x_\text{max}}\mathbf{f}(\mathbf{r}) \text{d}x\]</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[69]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">integral</span><span class="p">(</span><span class="n">f</span> <span class="o">*</span> <span class="n">df</span><span class="o">.</span><span class="n">dx</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[69]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<strong>Field</strong>
<ul>

  <li><strong>Mesh</strong>
<ul>
  <li><strong>Region</strong>
<ul>
  <li>p1 = (4.8999999999999995e-08, 0.0, 0.0)</li>
  <li>p2 = (5.1e-08, 1e-07, 1e-07)</li>
</ul></li>
  <li>n = (1, 50, 50)</li>
  <li>attributes:
    <ul>
      <li>unit: m</li>
      <li>fourierspace: False</li>
      <li>isplane: True</li>
      <li>planeaxis: 0</li>
      <li>point: 5e-08</li>
      <li>axis1: 1</li>
      <li>axis2: 2</li>
      </ul>
  </li>
</ul></li>
  <li>dim = 3</li>
  <li>components:
      <ul><li>x</li>
        <li>y</li>
        <li>z</li>
        </ul>
    </li>
  </ul></div>
</div>
<div class="math notranslate nohighlight">
\[\int_{0}^{y_\text{max}}f_{x}(\mathbf{r}) \text{d}y\]</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[70]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">integral</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">x</span> <span class="o">*</span> <span class="n">df</span><span class="o">.</span><span class="n">dy</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[70]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<strong>Field</strong>
<ul>

  <li><strong>Mesh</strong>
<ul>
  <li><strong>Region</strong>
<ul>
  <li>p1 = (0.0, 4.8999999999999995e-08, 0.0)</li>
  <li>p2 = (1e-07, 5.1e-08, 1e-07)</li>
</ul></li>
  <li>n = (50, 1, 50)</li>
  <li>attributes:
    <ul>
      <li>unit: m</li>
      <li>fourierspace: False</li>
      <li>isplane: True</li>
      <li>planeaxis: 1</li>
      <li>point: 5e-08</li>
      <li>axis1: 0</li>
      <li>axis2: 2</li>
      </ul>
  </li>
</ul></li>
  <li>dim = 1</li>
  </ul></div>
</div>
</section>
<section id="Improper-integrals">
<h3>Improper integrals<a class="headerlink" href="#Improper-integrals" title="Permalink to this headline">#</a></h3>
<div class="math notranslate nohighlight">
\[\int_{0}^{y}\mathbf{f}(\mathbf{r}) \text{d}y'\]</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[71]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">integral</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">x</span> <span class="o">*</span> <span class="n">df</span><span class="o">.</span><span class="n">dy</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="n">improper</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[71]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<strong>Field</strong>
<ul>

  <li><strong>Mesh</strong>
<ul>
  <li><strong>Region</strong>
<ul>
  <li>p1 = (0, 0, 0)</li>
  <li>p2 = (1e-07, 1e-07, 1e-07)</li>
</ul></li>
  <li>n = (50, 50, 50)</li>
  <li>attributes:
    <ul>
      <li>unit: m</li>
      <li>fourierspace: False</li>
      <li>isplane: False</li>
      </ul>
  </li>
</ul></li>
  <li>dim = 1</li>
  </ul></div>
</div>
</section>
<section id="Example">
<h3>Example<a class="headerlink" href="#Example" title="Permalink to this headline">#</a></h3>
<p>We have showed how to compute an integral when integrand is just a field. It is important to have in mind that this can be any field after some operations have been applied on it. For instance:</p>
<div class="math notranslate nohighlight">
\[\int_{V}\nabla\cdot\mathbf{f}(\mathbf{r})\text{d}V\]</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[72]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">integral</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">div</span> <span class="o">*</span> <span class="n">df</span><span class="o">.</span><span class="n">dV</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[72]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0.0
</pre></div></div>
</div>
</section>
</section>
<section id="Operation-pipelines">
<h2>Operation pipelines<a class="headerlink" href="#Operation-pipelines" title="Permalink to this headline">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[73]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">integral</span><span class="p">(</span><span class="n">f1</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">grad</span><span class="o">.</span><span class="n">div</span><span class="o">.</span><span class="n">grad</span><span class="o">.</span><span class="n">curl</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">grad</span> <span class="o">*</span> <span class="n">df</span><span class="o">.</span><span class="n">dV</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[73]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(0.0, 0.0, 0.0)
</pre></div></div>
</div>
</section>
<section id="id4">
<h2>Example<a class="headerlink" href="#id4" title="Permalink to this headline">#</a></h2>
<p>Here we implement skyrmion number calculations using operations on fields:</p>
<div class="math notranslate nohighlight">
\[S = \frac{1}{4\pi} \int \mathbf{m} \cdot \left(\frac{\partial \mathbf{m}}{\partial x} \times \frac{\partial \mathbf{m}}{\partial y}\right) dxdy\]</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[74]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>

<span class="n">m</span> <span class="o">=</span> <span class="n">field</span><span class="o">.</span><span class="n">orientation</span><span class="o">.</span><span class="n">plane</span><span class="p">(</span><span class="s2">&quot;z&quot;</span><span class="p">)</span>
<span class="n">S</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">integral</span><span class="p">(</span><span class="n">m</span> <span class="o">@</span> <span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">derivative</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">m</span><span class="o">.</span><span class="n">derivative</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">))</span> <span class="o">*</span> <span class="n">df</span><span class="o">.</span><span class="n">dx</span> <span class="o">*</span> <span class="n">df</span><span class="o">.</span><span class="n">dy</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span>
    <span class="mi">4</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span>
<span class="p">)</span>
<span class="n">S</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[74]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0.0
</pre></div></div>
</div>
<p>Or using Ubermag function:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[75]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">discretisedfield.tools</span> <span class="k">as</span> <span class="nn">dft</span>

<span class="n">dft</span><span class="o">.</span><span class="n">topological_charge</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[75]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0.0
</pre></div></div>
</div>
<p>Using Berg-Luescher method</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[76]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dft</span><span class="o">.</span><span class="n">topological_charge</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;berg-luescher&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[76]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0.0
</pre></div></div>
</div>
</section>
<section id="Applying-numpys-universal-functions">
<h2>Applying <code class="docutils literal notranslate"><span class="pre">numpys</span></code> universal functions<a class="headerlink" href="#Applying-numpys-universal-functions" title="Permalink to this headline">#</a></h2>
<p>All numpy universal functions can be applied to <code class="docutils literal notranslate"><span class="pre">discretisedfield.Field</span></code> objects. Below we show a different examples. For available functions please refer to the <code class="docutils literal notranslate"><span class="pre">numpy</span></code> <a class="reference external" href="https://numpy.org/doc/stable/reference/ufuncs.html#available-ufuncs">documentation</a>.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[77]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[78]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f1</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">mesh</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">f2</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">mesh</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span>
<span class="n">f3</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">mesh</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[79]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">f1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[79]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<strong>Field</strong>
<ul>

  <li><strong>Mesh</strong>
<ul>
  <li><strong>Region</strong>
<ul>
  <li>p1 = (0, 0, 0)</li>
  <li>p2 = (1e-07, 1e-07, 1e-07)</li>
</ul></li>
  <li>n = (50, 50, 50)</li>
  <li>attributes:
    <ul>
      <li>unit: m</li>
      <li>fourierspace: False</li>
      <li>isplane: False</li>
      </ul>
  </li>
</ul></li>
  <li>dim = 1</li>
  </ul></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[80]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">f2</span><span class="p">)((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[80]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
1.2246467991473532e-16
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[81]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">((</span><span class="n">f1</span><span class="p">,</span> <span class="n">f2</span><span class="p">,</span> <span class="n">f3</span><span class="p">))((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[81]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
6.141592653589793
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[82]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">f1</span><span class="p">)((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[82]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
2.718281828459045
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[83]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">power</span><span class="p">(</span><span class="n">f3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[83]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
4.0
</pre></div></div>
</div>
</section>
<section id="Other">
<h2>Other<a class="headerlink" href="#Other" title="Permalink to this headline">#</a></h2>
<p>Full description of all existing functionality can be found in the <a class="reference external" href="https://ubermag.github.io/api/_autosummary/discretisedfield.Field.html">API Reference</a>.</p>
<script type="application/vnd.jupyter.widget-state+json">
{"state": {}, "version_major": 2, "version_minor": 0}
</script></section>
</section>


              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="field-normalisation.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Field normalisation</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="field-matplotlib-visualisation.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Visualising field using <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code></p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
              
          </main>
          

      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>
<footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2021, Marijan Beg and Hans Fangohr.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.5.0.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>